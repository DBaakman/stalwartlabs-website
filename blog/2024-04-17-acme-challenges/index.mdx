---
slug: acme-challenges
title: "Introducing DNS-01 and HTTP-01 ACME Challenges"
authors: [mdecimus]
image: ./img/social-card.jpg
tags: [acme, dns-01, http-01, tls-alpn-01, mail, server]
---

Today we announce the release of [Stalwart Mail Server](https://github.com/stalwartlabs/mail-server) version `0.7.2`, which now includes support for both `DNS-01` and `HTTP-01` ACME challenge types. This update marks a significant enhancement in our server's capabilities, addressing one of the most frequent requests from our user communityâ€”the inclusion of `DNS-01` support for improved domain validation flexibility.

### What is ACME?

The Automated Certificate Management Environment (ACME) protocol is a cornerstone in the world of secure communications. ACME automates the process of certificate issuance, renewal, and revocation, thereby simplifying the management of SSL/TLS certificates. This protocol is not only designed to streamline administrative tasks but also to bolster security measures through rigorous validation mechanisms.

![acme social-card image](./img/social-card.jpg)

### Challenge Types

Prior to version `0.7.2`, Stalwart Mail Server supported only the `TLS-ALPN-01` challenge, which utilizes the TLS Application Layer Protocol Negotiation extension for domain validation. This method, while robust, requires port 443 to be open and can limit flexibility for some users and environments.

Recognizing the diverse needs of our users, we have expanded our support to include two additional types of challenges: `DNS-01` and `HTTP-01`. These new features are designed to offer more versatility in how users manage domain validation and certificate issuance.

#### DNS-01 Challenge

The `DNS-01` challenge validates domain ownership by creating a DNS TXT record. This method is particularly valuable for those needing to issue wildcard certificates, as it allows for the validation of the domain and all its subdomains collectively. It is an ideal choice for users who prefer or require managing their certificates at the DNS level, especially in scenarios where direct web traffic control is not feasible.

#### HTTP-01 Challenge

In contrast, the `HTTP-01` challenge involves responding to HTTP requests made by the ACME server. This method proves the control over a domain by placing a specific file on the server to be accessed via a standard web path. It is best suited for environments where port 80 is open and accessible. The simplicity of `HTTP-01` makes it an attractive option for many administrators, providing an efficient path to compliance without the need for complex DNS configurations.

### Benefits

By integrating `DNS-01` and `HTTP-01` challenges into Stalwart Mail Server `0.7.2`, we are offering our users the flexibility to choose the validation method that best fits their technical requirements and security policies. Whether operating behind a TLS reverse proxy, managing multiple subdomains with a single certificate, or simply seeking a straightforward setup, the expanded challenge options cater to a wider range of use cases.

We are committed to continually improving Stalwart Mail Server to meet the evolving needs of our customers. The inclusion of these new ACME challenges is a direct response to community feedback, and we are excited to see how our users will leverage these new capabilities to enhance their server security and certificate management processes.

Stay tuned for more updates as we keep enhancing our mail server solutions. For detailed information on configuring and using the new challenge types in Stalwart Mail Server `0.7.2`, please refer to our [updated documentation](/docs/server/tls/acme/overview).

We look forward to your feedback on these new features and to supporting you in your journey to a more secure and efficient server environment!
